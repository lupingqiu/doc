# 数据中心design

## O

构建一个界面化、配置化、自动化的数据中心应用。

## KRs

1. 管理人员通过数据中心配置数据源、提炼、扩展和构建数据集市，并通过配置，将数据输出至目标地址，数据中心会对整个过程进行监控和提醒。

2. 业务人员可以查看基表和数据集市数据信息，如果没有满足自己需求的数据，可以自行开发和生产新的数据，并通过配置，将数据输出至目标地址。

## 范围

- 适用于以odps为计算中心的平台
- 适用于自构建的CDH为计算中心的平台

## 用户

分四类：
- 超级管理员
- 数据中心管理员
- 业务人员
- 公司外部人员

## 模块

- 环境配置
- DataIn
- 基表构建
- 数据集市
- DataOut
- 对接hue
- 权限控制

> 回头取个高大上的名字

## 模块功能

#### 环境配置

配置存储环境作供etl接入、数据中心输出数据的目标地址的选择。考虑数据中心以一个CDH环境为基础，即一套hadoop、hive、hue、oozie环境。

> 考虑后台配置

> 由超级管理员设置，超级管理员具备所有权限（下文不再赘述）


#### DataIn

对接etl，etl根据如下信息进行数据传输，数据中心监控数据传输状态
- 数据源
- 字段、规则
- 接入地址
- 更新周期

> 再次确认，如果这么做数据中心就不是一个独立应用

> 数据中心管理员具备操作和查看权限

#### 基表

- 创建基表
- 数据开发
- 任务状态
- 填充度等信息（自动或手动促发oozie任务）

> 数据中心管理员具备创建开发权限

> 业务人员具备查看权限，通过此功能业务人员可以了解到目前我们有哪些源数据，数据质量，字段含义，更新频度，最近一次更新时间。

#### 数据集市

- 创建输出表
- 数据开发
- 任务状态
- 填充度等信息（自动或手动促发oozie任务）

> 数据中心管理员具备开发查看权限

> 业务人员都具备开发查看权限，但不能修改他人或者管理员创建的输出表。

#### DataOut

数据输出目标环境可以是es、hdfs、file、mysql、hbase、kafka
- 配置输出目标存储
- 动态调整任务并发

> 数据中心管理员和业务人员都可以配置。

#### 对接hue

数据中心与hue账户权限打通，可以从数据中心直接切入hue界面进行开发。

#### 权限控制

如上备注信息。
